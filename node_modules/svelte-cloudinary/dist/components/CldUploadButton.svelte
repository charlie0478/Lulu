<script>import CldUploadWidget from "./CldUploadWidget.svelte";
$: ({
    uploadPreset,
    signatureEndpoint,
    onError,
    onUpload,
    options,
    onOpen,
    onClose,
    ...buttonProps
} = $$props);
let baseProps = {
    onClose,
    onOpen,
    options,
    onUpload,
    onError
};
function withSignature(options2) {
    return signatureEndpoint != null;
}
function withPreset(options2) {
    return uploadPreset != null;
}
let props = {};
if (withPreset(baseProps)) {
    props = { ...baseProps, uploadPreset };
}
if (withSignature(baseProps)) {
    props = {
        ...baseProps,
        signatureEndpoint
    };
}
</script>

<CldUploadWidget {...props} let:open let:isLoading>
	{#if $$slots.default}
		<slot />
	{:else}
		<button {...buttonProps} on:click|preventDefault={open} disabled={isLoading}> Upload </button>
	{/if}
</CldUploadWidget>
